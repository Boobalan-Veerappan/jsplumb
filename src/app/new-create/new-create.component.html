<!-- <p>new-create works!</p> -->
<!-- {{nodes | json}} -->
<ngx-graph
 [view]="[800, 500]"
[nodes]="nodes"
[nodeWidth]="150"
[nodeHeight]="100"
[links]="links"
layout="colaForceDirected"
[layoutSettings]="layoutSettings"
[curve]="curve"
[clusters]="clusters"
>

<ng-template #nodeTemplate let-node>
<svg:g class="node" xmlns="http://www.w3.org/2000/xhtml" width="100" height="100">
    <svg:foreignObject width="150" height="100">
      <xhtml:div class="cardContainer" xmlns="http://www.w3.org/1999/xhtml" style="    background-color: rgb(148, 135, 135);
      height: 100%;
      align-items: center;
      justify-content: center;
      display: flex;">
        <label class="name">{{ node.label }}</label>
 
      </xhtml:div>
    </svg:foreignObject>
  </svg:g>
</ng-template>

<ng-template #linkTemplate let-link>
            <svg:marker id="upperarrow"  viewBox="0 0 10 10"    refX="5" refY="5" markerWidth="4" markerHeight="5" >
            <svg:circle cx="5" cy="5" r="5" fill="red" />
          </svg:marker>
            <svg:marker id="downarrow" viewBox="0 -5 10 10"    refX="8" refY="0" markerWidth="4" markerHeight="4" >
              <svg:path d="M0,-5L10,0L0,5" class="arrow-head" />
            </svg:marker>
    <svg:g class="edge">
        <svg:path class="line" stroke-width="2"  marker-start="url(#upperarrow)" marker-end="url(#downarrow)"  ></svg:path>
    </svg:g>

    <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="24px" height="24px">
     
      <g startOffset="50%" >
      <path d="M12 3A9 9 0 1 0 12 21A9 9 0 1 0 12 3Z" opacity=".3"/>
      <path d="M15.3 16.7L11 12.4 11 6 13 6 13 11.6 16.7 15.3z"/>
      <path d="M12,22C6.5,22,2,17.5,2,12C2,6.5,6.5,2,12,2c5.5,0,10,4.5,10,10C22,17.5,17.5,22,12,22z M12,4c-4.4,0-8,3.6-8,8s3.6,8,8,8 s8-3.6,8-8S16.4,4,12,4z"/>
    
    </g>  

  </svg>
  <!-- {{link.midpoint | json}} -->
  <svg:g 
  class="linkMidpoint"
  *ngIf="link.midPoint"
  [attr.transform]="'translate(' + link.midPoint.x + ',' + link.midPoint.y + ')'"
  text-anchor="middle" width="10" height="10">
    <svg:circle cx="10" (click)="cricleCall()"
    class="text-path"
    [attr.href]="'#' + link.id"
    [style.dominant-baseline]="link.dominantBaseline"
    startOffset="50%"
    cy="10"
    r="5"
   
    stroke="black"
    fill="green"
    stroke-width="3"/>
  </svg:g>
  <!-- <svg:g
  class="linkMidpoint"
  *ngIf="link.midPoint"
  [attr.transform]="'translate(' + link.midPoint.x + ',' + link.midPoint.y + ')'"
>
<svg:text alignment-baseline="central" style="margin-bottom: 20px;">{{ link.data.linkText }}  </svg:text>
</svg:g> -->

      <!-- <svg:text alignment-baseline="central">###</svg:text> -->

</ng-template>
<ng-template #defsTemplate>
  <svg:g height="210" width="400">
    <svg:path d="M150 0 L75 200 L225 200 Z" />
  </svg:g>
</ng-template>
<ng-template #clusterTemplate let-cluster>
  <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 204 204" fill="#ffff" width="200px" height="200px">


  </svg>
</ng-template>
</ngx-graph>